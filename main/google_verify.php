<?php
require_once('../lib/phpjwt/JWT.php');
$google_jwt_keys = array(
    "7cb86002882184eec05e0afce66f9ff8e05b1713" => "-----BEGIN CERTIFICATE-----\nMIIDJjCCAg6gAwIBAgIId9Yl7VPmaRAwDQYJKoZIhvcNAQEFBQAwNjE0MDIGA1UE\nAxMrZmVkZXJhdGVkLXNpZ25vbi5zeXN0ZW0uZ3NlcnZpY2VhY2NvdW50LmNvbTAe\nFw0xNTEwMjEwMTEzMzRaFw0xNTEwMjIxNDEzMzRaMDYxNDAyBgNVBAMTK2ZlZGVy\nYXRlZC1zaWdub24uc3lzdGVtLmdzZXJ2aWNlYWNjb3VudC5jb20wggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDV5SCLP845/Mj26tB28YS4YlkrguRA/Bu7\nD+lMX4pRxyQ7RQ2UCPeLkdaZkJ+dj6Xq33fmGWAPN/b/esq0QWx/fKzoKMEiHAHJ\ndofxi4Nq2gbxV4gAVrzxk8DIqYn4OuNlc9InvZyS9nlFNmaq2NdWBd+0y0xhcL1E\n765WDf4cK6zKCg7w7ED6WkZnnetQdV2N8y4Lvd0UXXC5kr4+baeTtl5yUH+8eK+W\nOkLncPSJJ3GkolRGcvnEHoRD0OY9zAn1/RUk+l0rjbZthRi5Wk++SQvOkOATzwrO\n4SaBv8bwuqZEFYhPGQoXjJgVP95Iaq857sNZV5XjZQHNq2JjEsSXAgMBAAGjODA2\nMAwGA1UdEwEB/wQCMAAwDgYDVR0PAQH/BAQDAgeAMBYGA1UdJQEB/wQMMAoGCCsG\nAQUFBwMCMA0GCSqGSIb3DQEBBQUAA4IBAQAiueB9wVbXAv5SY11/NST9edn7opjw\n4/23Fu7fwydMFk5uMyASDD7rnIQuKmsLRuuOPsvxfM8eOcMY0YLmcPyL09vQPw87\nipko4DpD8n/YxGlIIVnOOhtpYx4AWyZvlmUnG6UwyFvHnvd14pRVeJ4MjJCnkeLW\nh2Ali2hoyOhzcaaZklN3JNrx7f1f8Q93FI+xdwa4jSGftgNyXhOXfd0N8cw9An0r\nCtQRiNxwO5D1HEj6hKO9Zc81Ib2Alah5aYjvwupr4VZdkXIKAeDOceudbui63hyF\n1W7kuoq1LwLP7bp+OAABvNQvk3Mq5KxNXqQP+JnxojmCUsNPCUWjZgd4\n-----END CERTIFICATE-----\n",
    "77aefd8d8ff4383af264318e60fd17b0e56c2930" => "-----BEGIN CERTIFICATE-----\nMIIDJjCCAg6gAwIBAgIIJ8tgnJflWqMwDQYJKoZIhvcNAQEFBQAwNjE0MDIGA1UE\nAxMrZmVkZXJhdGVkLXNpZ25vbi5zeXN0ZW0uZ3NlcnZpY2VhY2NvdW50LmNvbTAe\nFw0xNTEwMjIwMDU4MzRaFw0xNTEwMjMxMzU4MzRaMDYxNDAyBgNVBAMTK2ZlZGVy\nYXRlZC1zaWdub24uc3lzdGVtLmdzZXJ2aWNlYWNjb3VudC5jb20wggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCrqL9FJggynvvW7l9Eb3WS5Yi3zu9ybFVD\nn1AVimIcKAb2Fywj3iFyi8pArQVe4Buo+gX1nhjHsJmdFLpZd6m/hpd19gAZyLdt\nlX/CEwVz23oBeDmRed08rfXBeL0IL5iKybw/or13vMFqv2KRZr7RwiNd8alN2YuW\n0EQkVMRx5zaTDdQ0Qs8LGw2AV1IDpoDSTvvnqpbXyO1ugH3f/2hRADzTWYyfwiZE\nRSQOIGrb8Xz2vUaQlwHXmZXBEDx2ekKpQPEQCan1EwTnZfgAz0+AN0hSxWJUhCAc\n0xU4Bx9JD3Oaa3GWPxLUMgBhMVvhSqTcJfBhcGFcx7OCvF575OLVAgMBAAGjODA2\nMAwGA1UdEwEB/wQCMAAwDgYDVR0PAQH/BAQDAgeAMBYGA1UdJQEB/wQMMAoGCCsG\nAQUFBwMCMA0GCSqGSIb3DQEBBQUAA4IBAQAZr567pykuFxsKsQtgiE/DwizXwBoq\nNt6cZaIkP6BjwN0mu3i5gZDT1ncGYbrfYjtGSR2TVwi4bSfE2N/HkIGSyfGBLBDb\npKDDLfVJUJS0f6bxrdF2CRTU3kqifaQKPC9qvVu5Tvh3vtPlrc2YDysXsBnj9ykX\nGIQnTGh52LKF13I54jDY2bJT8OSy3Icmuy2QC5J1RZ4E0bxWrkYUwaFLk5740EgM\nteShXVNXJWupEDdjmoVWEh2uaxV1b75Jby+UP3yC+h2ejoEB18oOUtm3UWQmLFhF\nBTJNp6Nlm8XXXkMsDhuMBhG5x0VxNZyoyYCyfg0vsKhGjyIrAQhEjTPp\n-----END CERTIFICATE-----\n"
);

$token =  $_POST['token'];
$data = NULL;
try {
    $data = Fireebase\JWT\JWT::decode($token, $google_jwt_keys);
}
catch ($e) {
    die(json_encode(array(
        'code' => -4,
        'message' => var_export($e, TRUE),
    ), TRUE));
}

/// 在数据库中创建对应的记录

